{"ast":null,"code":"import _regeneratorRuntime from\"/Users/dukeyeom/Documents/COP4331BigProject/ChecksAndBalances/WebApp/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/dukeyeom/Documents/COP4331BigProject/ChecksAndBalances/WebApp/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/dukeyeom/Documents/COP4331BigProject/ChecksAndBalances/WebApp/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";//import React from 'react';\nimport React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var baseURL='/api';// const baseURL = 'http://localhost:5001/api';\nfunction CardUI(){var card='';var search='';var _ud=localStorage.getItem('user_data');var ud=JSON.parse(_ud);var userId=ud.id;var firstName=ud.firstName;var lastName=ud.lastName;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchResults=_useState4[0],setResults=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),cardList=_useState6[0],setCardList=_useState6[1];var addCard=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var obj,js,response,txt,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();obj={userId:userId,card:card.value};js=JSON.stringify(obj);_context.prev=3;_context.next=6;return fetch(\"\".concat(baseURL,\"/addcard\"),{method:'POST',body:js,headers:{'Content-Type':'application/json'}});case 6:response=_context.sent;_context.next=9;return response.text();case 9:txt=_context.sent;res=JSON.parse(txt);if(res.error.length>0){setMessage(\"API Error:\"+res.error);}else{setMessage('Card has been added');}_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](3);setMessage(_context.t0.toString());case 17:case\"end\":return _context.stop();}},_callee,null,[[3,14]]);}));return function addCard(_x){return _ref.apply(this,arguments);};}();var searchCard=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){var obj,js,response,txt,res,_results,resultText,i;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:event.preventDefault();obj={userId:userId,search:search.value};js=JSON.stringify(obj);_context2.prev=3;_context2.next=6;return fetch(\"\".concat(baseURL,\"/searchcards\"),{method:'POST',body:js,headers:{'Content-Type':'application/json'}});case 6:response=_context2.sent;_context2.next=9;return response.text();case 9:txt=_context2.sent;res=JSON.parse(txt);_results=res.results;resultText='';for(i=0;i<_results.length;i++){resultText+=_results[i];if(i<_results.length-1){resultText+=', ';}}setResults('Card(s) have been retrieved');setCardList(resultText);_context2.next=22;break;case 18:_context2.prev=18;_context2.t0=_context2[\"catch\"](3);alert(_context2.t0.toString());setResults(_context2.t0.toString());case 22:case\"end\":return _context2.stop();}},_callee2,null,[[3,18]]);}));return function searchCard(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{id:\"cardUIDiv\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"searchText\",placeholder:\"Card To Search For\",ref:function ref(c){return search=c;}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",id:\"searchCardButton\",class:\"buttons\",onClick:searchCard,children:\" Search Card\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{id:\"cardSearchResult\",children:searchResults}),/*#__PURE__*/_jsx(\"p\",{id:\"cardList\",children:cardList}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"cardText\",placeholder:\"Card To Add\",ref:function ref(c){return card=c;}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",id:\"addCardButton\",class:\"buttons\",onClick:addCard,children:\" Add Card \"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{id:\"cardAddResult\",children:message})]});}export default CardUI;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","baseURL","CardUI","card","search","_ud","localStorage","getItem","ud","JSON","parse","userId","id","firstName","lastName","_useState","_useState2","_slicedToArray","message","setMessage","_useState3","_useState4","searchResults","setResults","_useState5","_useState6","cardList","setCardList","addCard","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","obj","js","response","txt","res","wrap","_callee$","_context","prev","next","preventDefault","value","stringify","fetch","concat","method","body","headers","sent","text","error","length","t0","toString","stop","_x","apply","arguments","searchCard","_ref2","_callee2","_results","resultText","i","_callee2$","_context2","results","alert","_x2","children","type","placeholder","ref","c","class","onClick"],"sources":["/Users/dukeyeom/Documents/COP4331BigProject/ChecksAndBalances/WebApp/frontend/src/components/CardUI.js"],"sourcesContent":["//import React from 'react';\nimport React, { useState } from 'react';\nconst baseURL = '/api';\n// const baseURL = 'http://localhost:5001/api';\n\nfunction CardUI()\n{\n    var card = '';\n    var search = '';\n    var _ud = localStorage.getItem('user_data');\n    var ud = JSON.parse(_ud);\n    var userId = ud.id;\n    var firstName = ud.firstName;\n    var lastName = ud.lastName;\n\n\n    const [message,setMessage] = useState('');\n    const [searchResults,setResults] = useState('');\n    const [cardList,setCardList] = useState('');\n\n    const addCard = async event => \n    {\n\t    event.preventDefault();\n\n        var obj = {userId:userId,card:card.value};\n        var js = JSON.stringify(obj);\n\n        try\n        {\n            const response = await fetch(`${baseURL}/addcard`,\n            {method:'POST',body:js,headers:{'Content-Type': 'application/json'}});\n\n            var txt = await response.text();\n            var res = JSON.parse(txt);\n\n            if( res.error.length > 0 )\n            {\n                setMessage( \"API Error:\" + res.error );\n            }\n            else\n            {\n                setMessage('Card has been added');\n            }\n        }\n        catch(e)\n        {\n            setMessage(e.toString());\n        }\n\t};\n\n\n\n    const searchCard = async event => \n    {\n        event.preventDefault();\n        \t\t\n        var obj = {userId:userId,search:search.value};\n        var js = JSON.stringify(obj);\n\n        try\n        {\n            const response = await fetch(`${baseURL}/searchcards`,\n            {method:'POST',body:js,headers:{'Content-Type': 'application/json'}});\n\n            var txt = await response.text();\n            var res = JSON.parse(txt);\n            var _results = res.results;\n            var resultText = '';\n            for( var i=0; i<_results.length; i++ )\n            {\n                resultText += _results[i];\n                if( i < _results.length - 1 )\n                {\n                    resultText += ', ';\n                }\n            }\n            setResults('Card(s) have been retrieved');\n            setCardList(resultText);\n        }\n        catch(e)\n        {\n            alert(e.toString());\n            setResults(e.toString());\n        }\n    };\n\n\n    return(\n        <div id=\"cardUIDiv\">\n        <br />\n        <input type=\"text\" id=\"searchText\" placeholder=\"Card To Search For\" \n          ref={(c) => search = c} />\n        <button type=\"button\" id=\"searchCardButton\" class=\"buttons\" \n          onClick={searchCard}> Search Card</button><br />\n        <span id=\"cardSearchResult\">{searchResults}</span>\n        <p id=\"cardList\">{cardList}</p><br /><br />\n        <input type=\"text\" id=\"cardText\" placeholder=\"Card To Add\" \n          ref={(c) => card = c} />\n        <button type=\"button\" id=\"addCardButton\" class=\"buttons\" \n          onClick={addCard}> Add Card </button><br />\n        <span id=\"cardAddResult\">{message}</span>\n      </div>\n      \n    );\n}\n\nexport default CardUI;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}